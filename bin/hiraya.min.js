(function(t,e,n){function i(n,s){if(!e[n]){if(!t[n]){var a="function"==typeof require&&require;if(!s&&a)return a(n,!0);if(r)return r(n,!0);throw Error("Cannot find module '"+n+"'")}var o=e[n]={exports:{}};t[n][0].call(o.exports,function(e){var r=t[n][1][e];return i(r?r:e)},o,o.exports)}return e[n].exports}for(var r="function"==typeof require&&require,s=0;n.length>s;s++)i(n[s]);return i})({1:[function(t,e){var n={Class:t("./hiraya-core/class"),Emitter:t("./hiraya-core/emitter"),Collection:t("./hiraya-core/collection"),Stat:t("./hiraya-game/stat"),Stats:t("./hiraya-game/stats"),EntityTurnBased:t("./hiraya-game/entity-turnbased"),Entity:t("./hiraya-game/entity"),Game:t("./hiraya-game/game"),Level:t("./hiraya-game/level"),LevelTurnBased:t("./hiraya-game/level-turnbased")};"object"==typeof window&&(window.Hiraya=n),e.exports=n},{"./hiraya-core/class":2,"./hiraya-core/emitter":3,"./hiraya-core/collection":4,"./hiraya-game/stat":5,"./hiraya-game/stats":6,"./hiraya-game/entity-turnbased":7,"./hiraya-game/entity":8,"./hiraya-game/game":9,"./hiraya-game/level":10,"./hiraya-game/level-turnbased":11}],2:[function(t,e){function n(t,e,n){return function(){return this.parent=t[e],n.apply(this,arguments)}}function i(t,e){function s(){r&&this.init&&this.init.apply&&this.init.apply(this,arguments)}var a=t.prototype;r=!1;var o=new t;r=!0;var u;for(var h in e)e.hasOwnProperty(h)&&(u=e[h],o[h]="function"==typeof a[h]&&"function"==typeof e[h]?n(a,h,u):u);return s.prototype=o,s.prototype.constructor=s,s.extend=function(){for(var t=Array.prototype.slice.apply(arguments,arguments,0),e={},n=0;t.length>n;n++){var r=t[n];for(var a in r)r.hasOwnProperty(a)&&(e[a]=r[a])}return i(s,e)},s.create=function(t){var e=s.extend(t);return new e},s}var r=!0,s=i(function(){},{});e.exports=s},{}],12:[function(t,e){var n=e.exports={};n.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){if(t.source===window&&"process-tick"===t.data&&(t.stopPropagation(),n.length>0)){var e=n.shift();e()}},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.binding=function(){throw Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw Error("process.chdir is not supported")}},{}],13:[function(t,e,n){(function(t){function e(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;t.length>n;n++)if(e===t[n])return n;return-1}t.EventEmitter||(t.EventEmitter=function(){});var i=n.EventEmitter=t.EventEmitter,r="function"==typeof Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=10;i.prototype.setMaxListeners=function(t){this._events||(this._events={}),this._events.maxListeners=t},i.prototype.emit=function(t){if("error"===t&&(!this._events||!this._events.error||r(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var e=this._events[t];if(!e)return!1;if("function"==typeof e){switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:var n=Array.prototype.slice.call(arguments,1);e.apply(this,n)}return!0}if(r(e)){for(var n=Array.prototype.slice.call(arguments,1),i=e.slice(),s=0,a=i.length;a>s;s++)i[s].apply(this,n);return!0}return!1},i.prototype.addListener=function(t,e){if("function"!=typeof e)throw Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",t,e),this._events[t])if(r(this._events[t])){if(!this._events[t].warned){var n;n=void 0!==this._events.maxListeners?this._events.maxListeners:s,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),console.trace())}this._events[t].push(e)}else this._events[t]=[this._events[t],e];else this._events[t]=e;return this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){var n=this;return n.on(t,function i(){n.removeListener(t,i),e.apply(this,arguments)}),this},i.prototype.removeListener=function(t,n){if("function"!=typeof n)throw Error("removeListener only takes instances of Function");if(!this._events||!this._events[t])return this;var i=this._events[t];if(r(i)){var s=e(i,n);if(0>s)return this;i.splice(s,1),0==i.length&&delete this._events[t]}else this._events[t]===n&&delete this._events[t];return this},i.prototype.removeAllListeners=function(t){return 0===arguments.length?(this._events={},this):(t&&this._events&&this._events[t]&&(this._events[t]=null),this)},i.prototype.listeners=function(t){return this._events||(this._events={}),this._events[t]||(this._events[t]=[]),r(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]}})(t("__browserify_process"))},{__browserify_process:12}],3:[function(t,e){var n=t("./class"),i=t("events").EventEmitter,r=n.extend({init:function(){},on:function(){return i.prototype.on.apply(this,arguments),this},off:function(){return i.prototype.removeListener.apply(this,arguments),this},offAll:function(){return i.prototype.removeAllListeners.apply(this,arguments),this},emit:function(){return i.prototype.emit.apply(this,arguments),this},once:function(){return i.prototype.once.apply(this,arguments),this},removeListener:function(){return i.prototype.removeListener.apply(this,arguments),this}});e.exports=r},{events:13,"./class":2}],5:[function(t,e){var n=t("../hiraya-core/class"),i=n.extend({value:null,max:null,name:null,init:function(){this.reset(Math.max(this.value,this.max))},setValue:function(t){return this.value=Math.max(0,t),this.value=Math.min(this.value,this.max),this},setMax:function(t){return this.max=Math.max(0,t),this},empty:function(){return this.value=0,this},add:function(t){return this.setValue(this.value+("number"==typeof t?t:1)),this},reduce:function(t){return this.setValue(this.value-("number"==typeof t?t:1)),this},reset:function(t){return"number"==typeof t&&this.setMax(t),this.value=this.max,this},isMax:function(){return this.value===this.max},isEmpty:function(){return 0===this.value}});e.exports=i},{"../hiraya-core/class":2}],6:[function(t,e){var n=t("../hiraya-core/class"),i=t("./stat"),r=n.extend({none:null,init:function(){this.set("none",0,0)},set:function(t,e,n){var r=this[t],s="number"==typeof n?n:e;return r?(r.setValue(e),r.setMax(s)):this[t]=i.create({name:t,value:e,max:s}),this},get:function(t){return this[t]?this[t]:this.none}});e.exports=r},{"../hiraya-core/class":2,"./stat":5}],4:[function(t,e){var n=t("./emitter"),i=n.extend({_list:null,length:null,init:function(){this._list=[],this._updateLength()},_updateLength:function(){this.length=this._list.length},add:function(t){return this._list.push(t),this._updateLength(),this},remove:function(t){return this._list.splice(this._list.indexOf(t),1),this._updateLength(),this},at:function(t){return this._list[t]},each:function(t){for(var e=0,n=this._list.length;n>e&&t(this._list[e])!==!1;e++);}});e.exports=i},{"./emitter":3}],7:[function(t,e){var n=t("./entity"),i=n.extend({init:function(){this.parent(),this.stats.set("turn",0,100),this.stats.set("turnspeed",10)}});e.exports=i},{"./entity":8}],9:[function(t,e){var n=t("../hiraya-core/emitter"),i=n.extend({ready:function(){}});e.exports=i},{"../hiraya-core/emitter":3}],8:[function(t,e){var n=t("../hiraya-core/getter-setter"),i=t("./stats"),r=n.extend({init:function(){void 0===this.id&&(this.id=r.id++),this.stats=i.create(),this.stats.set("health",100).set("attack",100),this.parent()},attack:function(t){return t.damage(this.stats.attack.value),this},damage:function(t){return this.stats.health.reduce(t),this},setStats:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=Stat.create({max:t[e]}))}});r.id=0,e.exports=r},{"../hiraya-core/getter-setter":14,"./stats":6}],10:[function(t,e){var n=t("../hiraya-core/emitter"),i=t("../hiraya-core/collection"),r=t("./entity"),s=n.extend({entities:null,init:function(){this.entities=i.create(),this.parent()},addEntity:function(t){var e=this.createEntity(t),n=t.stats;for(var i in n)if(n.hasOwnProperty(i)){var r=n[i];e.stats.set(i,r[0],r[1])}return this.entities.add(e),this.addedEntity(e),this},createEntity:function(t){return r.create(t)},addedEntity:function(){}});e.exports=s},{"../hiraya-core/emitter":3,"../hiraya-core/collection":4,"./entity":8}],11:[function(t,e){var n=t("./level"),i=t("./entity-turnbased"),r=n.extend({createEntity:function(t){return i.create(t)},_tickSpeed:1,_turnTimeout:null,getTurn:function(){var t,e=this,n=function(){t=e._getEntityTurn(),t?(t.stats.turn.empty(),e.gotTurn(t)):setTimeout(function(){n()},e._tickSpeed)};n()},gotTurn:function(){},_getEntityTurn:function(){for(var t,e,n=this.entities.length,i=0;n>i;i++)if(t=this.entities.at(i),t.stats.turn.add(t.stats.get("turnspeed").value),t.stats.turn.isMax()){e=t;break}return e},evaluateEntities:function(){var t=[],e=[];this.entities.each(function(n){n.stats.health.isEmpty()?e.push(n):t.push(n)}),1>=t.length&&this.hasWinner(t[0])},hasWinner:function(){}});e.exports=r},{"./level":10,"./entity-turnbased":7}],14:[function(t,e){var n=t("./emitter"),i=n.extend({set:function(t,e){this[t]=e,this.emit(t,e)},get:function(t){return this.hasOwnProperty(t)?this[t]:null}});e.exports=i},{"./emitter":3}]},{},[1]);